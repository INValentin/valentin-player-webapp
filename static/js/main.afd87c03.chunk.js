(this["webpackJsonpreact-lap"]=this["webpackJsonpreact-lap"]||[]).push([[0],{12:function(e,t,a){},13:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(6),r=a.n(l),o=(a(12),function(){return c.a.createElement("nav",null,c.a.createElement("div",{className:"logo"},c.a.createElement("span",null,"VAL"),c.a.createElement("i",{className:"material-icons"},"music_note")),c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("a",{className:"icon",href:"#!"},c.a.createElement("i",{className:"material-icons"},"share"))),c.a.createElement("li",null,c.a.createElement("a",{className:"icon",href:"#!"},c.a.createElement("i",{className:"material-icons"},"live_tv")))))}),i=function(){return c.a.createElement("footer",null,"\xa9Valentin")},s=a(2),u=a(1),m=function(e){var t=e.isPlaying,a=e.onPlay,l=e.dragIndex,r=e.index,o=e.onDelete,i=e.onDragged,s=e.track,m=e.onDrop,f=Object(n.useState)(null),d=Object(u.a)(f,2),v=d[0],E=d[1],b=Object(n.useState)(!1),p=Object(u.a)(b,2),O=p[0],j=p[1],g=Object(n.useState)(!1),N=Object(u.a)(g,2),h=N[0],y=N[1];return Object(n.useEffect)((function(){v&&v.addEventListener("dragover",(function(e){var t=v.offsetHeight,a=t-e.offsetY>=t/2?"up":"down";"up"===a?v.classList.remove("down"):v.classList.remove("up"),v.classList.add(a)}))}),[v]),c.a.createElement("div",{onClick:function(){!t&&a(s)},onDragStart:function(e){y(!0),i(r)},onDragOver:function(e){j(!0)},onDrop:function(e){y(!1),j(!1);var t=v.classList.contains("up");v.classList.remove("up"),v.classList.remove("down"),m(l,r,t),i(null)},onDragEnd:function(e){j(!1),y(!1),i(null)},onDragLeave:function(e){v.classList.remove("up"),v.classList.remove("down"),j(!1)},ref:E,"data-index":r,draggable:!0,className:"\n                track ".concat(t?"playing":"","\n                ").concat(h?"dragged":"","\n                ").concat(O?"dragover":"","\n            ")},c.a.createElement("h6",{className:"track-name"},"Track ",s.name),c.a.createElement("div",{className:"track-btns"},c.a.createElement("button",{onClick:function(){!t&&a(s)},className:"play"},c.a.createElement("i",{className:"material-icons"},t?"pause_circle_outline":"play_circle_fill")),c.a.createElement("button",{onClick:function(e){e.stopPropagation(),o(s)},className:"delete"},c.a.createElement("i",{className:"material-icons"},"delete"))))},f=function(e){var t=e.current,a=e.list,l=e.onAdd,r=e.onRemove,o=e.onPrev,i=e.onNext,f=e.onPlay,d=e.onArrange,v=Object(n.useState)(null),E=Object(u.a)(v,2),b=E[0],p=E[1],O=Object(n.useRef)(),j=function(e){p(e)};return Object(n.useEffect)((function(){window.ondragover=function(e){e.preventDefault()},window.ondrop=function(e){e.preventDefault(),e.dataTransfer.files.length&&Object(s.a)(e.dataTransfer.files).forEach((function(e){l(e)}))}}),[l]),c.a.createElement("div",{className:"playlist"},c.a.createElement("div",{className:"header"},c.a.createElement("h1",null,"Playlist"),c.a.createElement("div",{className:"playlist-btns"},c.a.createElement("button",{onClick:function(e){return O.current.click()}},c.a.createElement("i",{className:"material-icons"},"playlist_add"),c.a.createElement("span",null,"Add track"),c.a.createElement("input",{multiple:!0,accept:"audio/*,video/*",style:{display:"none"},ref:O,type:"file",onChange:function(e){return t=e.target.files,void Object(s.a)(t).forEach((function(e){l(e)}));var t}})),c.a.createElement("button",{onClick:o,className:"icon"},c.a.createElement("i",{className:"material-icons"},"arrow_back")),c.a.createElement("button",{onClick:i,className:"icon"},c.a.createElement("i",{className:"material-icons"},"arrow_forward")))),c.a.createElement("div",{className:"tracks"},a.length>0?a.map((function(e,a){return c.a.createElement(m,{onDelete:r,onPlay:f,isPlaying:t.name===e.name,key:e.name,track:e,dragIndex:b,onDragged:j,onDrop:d,index:a})})):c.a.createElement("h1",null,"No tracks yet. You can drag-drop media here.")))},d=function(e){var t=e.setLine,a=e.eventHandler,l=e.level,r=void 0===l?0:l,o=Object(n.useState)(null),i=Object(u.a)(o,2),s=i[0],m=i[1],f=Object(n.useState)(!1),d=Object(u.a)(f,2),v=d[0],E=d[1];return Object(n.useEffect)((function(){s&&!v&&(E(!0),s.addEventListener("click",a))}),[s,a,v]),c.a.createElement("div",{ref:m,className:"progress-wrapper"},c.a.createElement("div",{ref:t,style:{width:100*r+"%"},className:"progress-line"}))},v=function(e){var t=e.onTrackEnded,a=e.mediaSrc,l=void 0===a?"":a,r=e.loop,o=void 0!==r&&r,i=Object(n.useState)(!1),s=Object(u.a)(i,2),m=s[0],f=s[1],v=Object(n.useState)(!0),E=Object(u.a)(v,2),b=E[0],p=E[1],O=Object(n.useState)(!1),j=Object(u.a)(O,2),g=j[0],N=j[1],h=Object(n.useRef)(null),y=Object(n.useRef)(null),k=Object(n.useState)(!1),S=Object(u.a)(k,2),w=S[0],L=S[1],P=Object(n.useState)(!0),C=Object(u.a)(P,2),T=C[0],_=C[1],x=Object(n.useState)(!1),D=Object(u.a)(x,2),M=D[0],A=D[1],R=Object(n.useState)(1),I=Object(u.a)(R,2),F=I[0],H=I[1],U=Object(n.useState)(!1),V=Object(u.a)(U,2),J=V[0],W=V[1],X=Object(n.useState)(null),Y=Object(u.a)(X,2),q=Y[0],B=Y[1],z=Object(n.useState)(null),G=Object(u.a)(z,2),K=G[0],Q=G[1],Z=Object(n.useState)(null),$=Object(u.a)(Z,2),ee=$[0],te=$[1],ae=Object(n.useState)(null),ne=Object(u.a)(ae,2),ce=ne[0],le=ne[1],re=function(e){w&&(q.pause(),_(!0))},oe=function(e){w&&(q.play(),_(!1),!m&&f(!0))},ie=function(){q.paused?oe():re()};function se(e){var t,a,n,c=function(e){return String(e<10?"0"+(e||0):e||0)};return 0,a=(t=Math.floor(e/3600))?Math.floor(60*(e/3600-t)):Math.floor(e/60),n=t?Math.floor(60*(60*(e/3600-t)-a)):Math.floor(60*(e/60-a)),"".concat(t?c(t)+":":"").concat(c(a),":").concat(c(n))}var ue=Object(n.useCallback)((function(){var e=h.current;e&&clearTimeout(e),!m&&b&&(h.current=setTimeout((function(){f(!0)}),3e3)),m&&f(!1)}),[m,b]);return Object(n.useEffect)((function(){var e=document.fullscreenElement,t=y.current;g?!e&&t&&t.requestFullscreen():e&&document.exitFullscreen()}),[g]),Object(n.useEffect)((function(){T===M&&A(!T)}),[T,M]),Object(n.useEffect)((function(){q&&H(q.volume)}),[q]),c.a.createElement("div",{ref:y,onMouseLeave:function(e){!m&&f(!0)},onMouseMove:ue,className:"player"},c.a.createElement("video",{onCanPlay:function(){L(!0)},onPause:re,onPlay:oe,onPlaying:function(e){_(!1)},onVolumeChange:function(e){var t=100*q.volume;K.style.width=t+"%",q.muted!==J&&W(q.muted),q.volume!==F&&H(q.volume)},onTimeUpdate:function(e){ee.style.width=100*q.currentTime/q.duration+"%",ce.innerText=se(q.currentTime)+" / "+se(q.duration)},onEnded:function(e){t()},ref:B,onClick:ie,onError:function(e){},autoPlay:!0,loop:o,src:l,poster:"poster.jpeg"}),w&&c.a.createElement("div",{onClick:ie,className:"video-overlay ".concat(M?"hidden":"")},c.a.createElement("button",{className:"icon"},c.a.createElement("i",{className:"material-icons"},"".concat(M?"pause":"play","_circle_outline")))),c.a.createElement("div",{onMouseOver:function(e){e.target.closest(".controls")&&b&&p(!1)},onMouseLeave:function(e){p(!0)},className:"controls ".concat(m&&"hidden")},c.a.createElement("div",{className:"btns"},c.a.createElement("div",{className:"left"},c.a.createElement("button",{onClick:ie,className:"icon"},c.a.createElement("i",{className:"material-icons"},"".concat(M?"pause":"play","_circle_outline")))),c.a.createElement("div",{className:"middle"},c.a.createElement("h6",{ref:le},"00:00 / 00:00")),c.a.createElement("div",{className:"right"},c.a.createElement("button",{onClick:function(e){return N((function(e){return!e}))},className:"icon"},c.a.createElement("i",{className:"material-icons"},"fullscreen")),c.a.createElement("div",{className:"volume-wrapper"},c.a.createElement("button",{className:"icon"},c.a.createElement(d,{setLine:Q,level:F,eventHandler:function(e){var t=K.closest(".progress-wrapper"),a=e.offsetX/t.offsetWidth*100;q.volume=a/100}}),c.a.createElement("i",{onClick:function(e){q.muted=!q.muted},className:"material-icons"},J?"volume_off":"volume_up"))))),c.a.createElement(d,{setLine:te,eventHandler:function(e){var t=ee.closest(".progress-wrapper"),a=e.offsetX/t.offsetWidth*100;q.currentTime=a/100*q.duration||0,ce.innerText=se(q.currentTime)+" / "+se(q.duration)}})))},E=function(){var e=Object(n.useRef)(document.createElement("video")),t=Object(n.useState)(new Audio),a=Object(u.a)(t,2),l=a[0],r=a[1],o=Object(n.useState)([]),i=Object(u.a)(o,2),m=i[0],d=i[1],E=function(e){e.src=URL.createObjectURL(e),r(e)},b=function(){var e=Object(s.a)(m),t=e.findIndex((function(e){return e.name===l.name})),a=t===m.length-1?0:t+1;e[a]&&E(e[a])};return c.a.createElement(c.a.Fragment,null,c.a.createElement(v,{onTrackEnded:b,mediaSrc:l.src}),c.a.createElement(f,{list:m,current:l,onRemove:function(e){d((function(t){return t.filter((function(t){return t.name!==e.name}))})),l.name===e.name&&(r(new Audio),b())},onNext:b,onPrev:function(){var e=Object(s.a)(m),t=e.findIndex((function(e){return e.name===l.name})),a=0===t?m.length-1:t-1;e[a]&&E(e[a])},onAdd:function(t){e.current.canPlayType(t.type)&&(m.some((function(e){return e.name===t.name}))||d((function(e){return[].concat(Object(s.a)(e),[t])})))},onPlay:E,onArrange:function(e,t,a){if(e!==t){var n=Object(s.a)(m);if(0===t&&a){var c=n.splice(e,1)[0];return d([c].concat(Object(s.a)(n)))}var l=(t+=1)>e,r=n.slice(0,t),o=n.slice(t),i=n.splice(e,1)[0];l?r.splice(e,1):o.splice(e-r.length,1),d([].concat(Object(s.a)(r),[i],Object(s.a)(o)))}}}))},b=function(){return c.a.createElement("main",null,c.a.createElement(E,null))};var p=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(o,null),c.a.createElement(b,null),c.a.createElement(i,null))};r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(p,null)),document.getElementById("root"))},7:function(e,t,a){e.exports=a(13)}},[[7,1,2]]]);
//# sourceMappingURL=main.afd87c03.chunk.js.map